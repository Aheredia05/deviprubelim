{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Archivo2\\\\FrondFinal\\\\src\\\\contexts\\\\auth\\\\AuthProvider.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useReducer, useContext } from \"react\";\nimport { AuthContext } from \"./AuthContext\";\nimport { authReducer } from \"./authReducer\";\nimport { types } from \"./types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AuthProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n\n  // https://tutorial.tips/double-exclamation-mark-not-not-operator-in-javascript/\n  const initialization = () => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    return {\n      logged: !!user,\n      user: user\n    };\n  }; // Uso del useReducer\n\n\n  const [authState, dispatch] = useReducer(authReducer, {}, initialization);\n\n  const login = async (user, token) => {\n    const action = {\n      type: types.login,\n      payload: user\n    };\n    localStorage.setItem(\"user\", JSON.stringify(user));\n    localStorage.setItem(\"token\", token);\n    dispatch(action);\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"token\");\n    const action = {\n      type: types.logout\n    };\n    dispatch(action);\n  };\n\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: { ...authState,\n      login: login,\n      logout: logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AuthProvider, \"qI6gbwRfKzphQOBuaw/0FVqc1Oo=\");\n\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n\n  return useContext(AuthContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","useReducer","useContext","AuthContext","authReducer","types","AuthProvider","children","initialization","user","JSON","parse","localStorage","getItem","logged","authState","dispatch","login","token","action","type","payload","setItem","stringify","logout","removeItem","useAuth"],"sources":["C:/xampp/htdocs/Archivo2/FrondFinal/src/contexts/auth/AuthProvider.jsx"],"sourcesContent":["import React, { useReducer, useContext } from \"react\";\r\nimport { AuthContext } from \"./AuthContext\";\r\nimport { authReducer } from \"./authReducer\";\r\nimport { types } from \"./types\";\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  // https://tutorial.tips/double-exclamation-mark-not-not-operator-in-javascript/\r\n  const initialization = () => {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"));\r\n    return {\r\n      logged: !!user,\r\n      user: user,\r\n    };\r\n  };\r\n\r\n  // Uso del useReducer\r\n  const [authState, dispatch] = useReducer(authReducer, {}, initialization);\r\n\r\n  const login = async (user, token) => {\r\n    const action = { type: types.login, payload: user };\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n    localStorage.setItem(\"token\", token);\r\n    dispatch(action);\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"user\");\r\n    localStorage.removeItem(\"token\");\r\n    const action = { type: types.logout };\r\n    dispatch(action);\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        ...authState,\r\n        login: login,\r\n        logout: logout,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\n"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,UAA5B,QAA8C,OAA9C;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,KAAT,QAAsB,SAAtB;;AAEA,OAAO,MAAMC,YAAY,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;;EAC5C;EACA,MAAMC,cAAc,GAAG,MAAM;IAC3B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;IACA,OAAO;MACLC,MAAM,EAAE,CAAC,CAACL,IADL;MAELA,IAAI,EAAEA;IAFD,CAAP;EAID,CAND,CAF4C,CAU5C;;;EACA,MAAM,CAACM,SAAD,EAAYC,QAAZ,IAAwBf,UAAU,CAACG,WAAD,EAAc,EAAd,EAAkBI,cAAlB,CAAxC;;EAEA,MAAMS,KAAK,GAAG,OAAOR,IAAP,EAAaS,KAAb,KAAuB;IACnC,MAAMC,MAAM,GAAG;MAAEC,IAAI,EAAEf,KAAK,CAACY,KAAd;MAAqBI,OAAO,EAAEZ;IAA9B,CAAf;IACAG,YAAY,CAACU,OAAb,CAAqB,MAArB,EAA6BZ,IAAI,CAACa,SAAL,CAAed,IAAf,CAA7B;IACAG,YAAY,CAACU,OAAb,CAAqB,OAArB,EAA8BJ,KAA9B;IACAF,QAAQ,CAACG,MAAD,CAAR;EACD,CALD;;EAOA,MAAMK,MAAM,GAAG,MAAM;IACnBZ,YAAY,CAACa,UAAb,CAAwB,MAAxB;IACAb,YAAY,CAACa,UAAb,CAAwB,OAAxB;IACA,MAAMN,MAAM,GAAG;MAAEC,IAAI,EAAEf,KAAK,CAACmB;IAAd,CAAf;IACAR,QAAQ,CAACG,MAAD,CAAR;EACD,CALD;;EAOA,oBACE,QAAC,WAAD,CAAa,QAAb;IACE,KAAK,EAAE,EACL,GAAGJ,SADE;MAELE,KAAK,EAAEA,KAFF;MAGLO,MAAM,EAAEA;IAHH,CADT;IAAA,UAOGjB;EAPH;IAAA;IAAA;IAAA;EAAA,QADF;AAWD,CAtCM;;GAAMD,Y;;KAAAA,Y;AAwCb,OAAO,MAAMoB,OAAO,GAAG,MAAM;EAAA;;EAC3B,OAAOxB,UAAU,CAACC,WAAD,CAAjB;AACD,CAFM;;IAAMuB,O"},"metadata":{},"sourceType":"module"}